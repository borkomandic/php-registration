
# PHP User Registration System

This project implements a user registration system in PHP, following the S.O.L.I.D principles for object-oriented design and using Composer for class autoloading with PSR-4. It demonstrates a basic yet extendable architecture without relying on a full-fledged framework.

## Project Structure

```plaintext
project-root/
├── src/
│   ├── Controller/
│   │   └── RegistrationController.php
│   │
│   ├── Model/
│   │   ├── User.php (Not implemented in examples)
│   │   └── UserLog.php (Not implemented in examples)
│   │
│   ├── Service/
│   │   ├── EmailService.php (Not implemented in examples)
│   │   ├── RegistrationService.php
│   │   └── Validation/
│   │       ├── ValidatorInterface.php
│   │       ├── EmailValidator.php
│   │       ├── PasswordValidator.php
│   │       └── ValidatorComposite.php
│   │
│   ├── Repository/
│   │   └── UserRepository.php
│   │
│   └── Utils/
│       └── Database.php
│
├── vendor/ (Auto-generated by Composer)
│
├── composer.json
│
└── public/
    └── index.php
```

### src/ Directory

Contains the application logic, structured into models, controllers, services, repositories, and utilities.

#### Controller/

- `RegistrationController.php`: Manages incoming HTTP requests and coordinates user registration through the registration service.

#### Model/

- `User.php`: Represents the user entity (not detailed here).
- `UserLog.php`: Represents the user log entity (not detailed here).

#### Service/

- `RegistrationService.php`: Orchestrates the registration process, utilizing validators and repositories.
- Validation/:
  - `ValidatorInterface.php`: Defines the contract for validators.
  - `EmailValidator.php`: Validates email addresses, including uniqueness and external checks (e.g., MaxMind simulation).
  - `PasswordValidator.php`: Validates password rules and matches.
  - `ValidatorComposite.php`: Combines multiple validators into a single composite validator.

#### Repository/

- `UserRepository.php`: Handles database operations related to users, such as finding and inserting users and logs.

#### Utils/

- `Database.php`: Manages database connections and queries.

### vendor/ Directory

Contains all Composer-managed dependencies, including the autoloader.

### composer.json

Defines project dependencies and autoloading configuration.

### public/ Directory

Contains the public entry point to the application.

- `index.php`: Initializes the application and handles incoming requests.

## Installation

1. Clone the repository.
2. Run `composer install` to install dependencies and set up autoloading.
3. Configure your web server to serve the `public/` directory as the document root.
4. Adjust `src/Utils/Database.php` with your database connection details.

## Usage

Navigate to the public URL configured in your web server to access the registration system. The application expects POST requests with `email`, `password`, and `password2` parameters for user registration.

## Extending the System

- Implement additional validators by creating new classes that implement `ValidatorInterface` and adding them to the `ValidatorComposite` in `RegistrationService`.
- Extend `UserRepository` for additional database operations as needed.
- Add new models in the `Model/` directory for other entities.

## Contribution Guidelines

Contributions are welcome. Please follow the existing project structure and coding standards when adding new features or fixing bugs.


## Environment Configuration

This project uses environmental variables for configuration settings such as database connections. To set up your environment variables:

1. Copy the `.env.example` file to a new file named `.env` in your project root.
2. Edit the `.env` file to include your specific configuration values, such as database credentials.

### Example .env File

```plaintext
DB_HOST=db
DB_USER=my_user
DB_PASSWORD=my_password
DB_NAME=my_db
```

Remember to add `.env` to your `.gitignore` file to prevent sensitive information from being exposed publicly.
